<template>
  <!-- è‡ªæˆ‘ä»‹ç´¹ -->
  <div class="intro-area" ref="introRef">
    <div class="logo">@Yuhsiang237</div>
    <div class="container">
      <div class="row" >
        <div class="col-md-8 col-sm-12">
          <div class="mb-3"><span class="overlay-title">è‡ªæˆ‘ä»‹ç´¹</span></div>
        </div>
        <div class="col-md-8 col-sm-12 content">
          <div
               ref="medataRef"
            class="pr-3 medata "
            v-html="meData"
          ></div>
        </div>
        <div class="col-md-4 col-sm-12 content">
          <div class="d-flex justify-content-end">
            <img ref="meimgRef" :src="MeImg" />
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { ref ,onBeforeUnmount,onMounted } from "vue";
import MeImg from "@/assets/image/me/me2.png";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

gsap.registerPlugin(ScrollTrigger);

export default {
  name: "home-intro",
  components: {},
  setup() {  
      const introRef = ref(null);

       const medataRef = ref(null);
    const meimgRef = ref(null);
    const modal = ref(null);
    const meData = ref(
      `
ä½ å¥½ï¼Œæˆ‘æ˜¯éƒç¿” (YU HSIANG) <br/>

åœ¨éå»åƒèˆ‡çš„å·¥ä½œå°ˆæ¡ˆä¸­ï¼Œä»å°åšåœ–åƒå·¥ä½œæ„Ÿèˆˆè¶£ï¼Œå–œæ­¡å¥½çœ‹çš„è¨­è¨ˆã€‚<br/>
å› æ­¤ï¼Œå°‡è·æ¶¯æ–¹å‘å®šç‚ºå‰ç«¯å·¥ç¨‹å¸«(äº¦å¯å”åŠ©è¨­è¨ˆ)ã€‚ <br/>
ä»¥ç©©å®šé–‹ç™¼ã€ç”¢å‡ºç‚ºæ–¹å‘ï¼Œç›®å‰åƒèˆ‡éå°ˆæ¡ˆçš†æ–¼æ™‚ç¨‹å…§å®Œæˆã€‚ğŸ˜‰ <br/>
<br/>
ç›®å‰ä¸»è¦ä»¥æ›¸æœ¬åŠç¶²èª²å­¸ç¿’è¨­è¨ˆé¡åŠç•«é¢è™•ç†ï¼Œå¸Œæœ›è‡ªå·±åœ¨ç•«é¢ä¸Šè™•ç†èƒ½å¤ æ›´ç²¾é€²ã€‚
<br/>
<br/>
å°æ–¼æ–°äº‹ç‰©æŒæ¡é€Ÿåº¦å¿«ï¼Œå¯ä»¥åœ¨2é€±å…§ç†Ÿæ‚‰è‡³ä¸Šæ‰‹ç¨‹åº¦(ä¾éå¾€å·¥ä½œç¶“æ­·)ã€‚<br/>
<br/>
      <a target="_blank" href="https://github.com/yuhsiang237"><i class="fa-brands fa-github"></i> Github - yuhsiang237</a>
      <br/>
      <a target="_blank" href="https://yuhsiang237.github.io/"><i class="fa-solid fa-earth-americas"></i> ç¨‹å¼ç­†è¨˜ç¶²ç«™</a>
      <br/>
      <a target="_blank" href="https://leetcode.com/u/yuhsiang237/"><i class="fa-solid fa-code"></i> Leetcode</a>
      `,
    );
let medataAnim, meimgAnim;
onMounted(() => {
      // æ–‡å­—æ·¡å…¥
      medataAnim = gsap.fromTo(
  medataRef.value,
  { opacity: 0, y: 150 },
  {
    opacity: 1,
    y: 0,
    duration: 1,
    scrollTrigger: {
      trigger: introRef.value,
      start: "top 150%",   // å€å¡Š top åˆ° viewport 80% è§¸ç™¼
      end: "bottom top",  // å€å¡Š bottom åˆ° viewport top æ™‚çµæŸå‹•ç•«
      scrub: true,        // æ»¾å‹•é€²åº¦æ§åˆ¶å‹•ç•«
    },
  }
);

      // åœ–ç‰‡æ·¡å…¥
      meimgAnim =gsap.fromTo(
  meimgRef.value,
  { opacity: 0, x: 150 },
  {
    opacity: 1,
    x: 0,
    duration: 1,
    scrollTrigger: {
      trigger: introRef.value,
      start: "top 150%",
      end: "bottom top",
      scrub: true,
    },
  }
);
    });

    onBeforeUnmount(() => {
      medataAnim?.scrollTrigger?.kill();
      meimgAnim?.scrollTrigger?.kill();
    });
    return {
      modal,
      meData,
      MeImg,
introRef ,
 medataRef, 
meimgRef
    };
  },
};
</script>
